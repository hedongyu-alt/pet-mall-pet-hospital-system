<!--pages/foster-publish/foster-publish.wxml-->
<view class="publish-container">
  <view class="form-section card">
    <!-- 标题 -->
    <view class="form-item">
      <view class="form-label required">标题</view>
      <input class="form-input" placeholder="请输入标题" value="{{formData.title}}" bindinput="onInputChange" data-field="title" />
    </view>

    <!-- 宠物名称 -->
    <view class="form-item">
      <view class="form-label required">宠物名称</view>
      <input class="form-input" placeholder="请输入宠物名称" value="{{formData.petName}}" bindinput="onInputChange" data-field="petName" />
    </view>

    <!-- 宠物类型 -->
    <view class="form-item">
      <view class="form-label required">宠物类型</view>
      <picker mode="selector" range="{{petTypes}}" value="{{petTypeIndex}}" bindchange="onPetTypeChange">
        <view class="picker-view">
          {{formData.petType || '请选择宠物类型'}}
        </view>
      </picker>
    </view>

    <!-- 宠物性别 -->
    <view class="form-item">
      <view class="form-label required">宠物性别</view>
      <picker mode="selector" range="{{genders}}" value="{{genderIndex}}" bindchange="onGenderChange">
        <view class="picker-view">
          {{formData.petGender || '请选择宠物性别'}}
        </view>
      </picker>
    </view>

    <!-- 品种 -->
    <view class="form-item">
      <view class="form-label required">品种</view>
      <input class="form-input" placeholder="请输入品种" value="{{formData.breed}}" bindinput="onInputChange" data-field="breed" />
    </view>

    <!-- 疫苗情况 -->
    <view class="form-item">
      <view class="form-label required">疫苗情况</view>
      <textarea class="form-textarea" placeholder="请输入疫苗情况描述" value="{{formData.health}}" bindinput="onInputChange" data-field="health" maxlength="500" />
    </view>

    <!-- 详细描述 -->
    <view class="form-item">
      <view class="form-label required">详细描述</view>
      <textarea class="form-textarea" placeholder="请输入详细描述，包括寄养要求等" value="{{formData.description}}" bindinput="onInputChange" data-field="description" maxlength="1000" />
    </view>

    <!-- 联系方式 -->
    <view class="form-item">
      <view class="form-label required">联系方式</view>
      <input class="form-input" placeholder="请输入联系方式" value="{{formData.contact}}" bindinput="onInputChange" data-field="contact" />
    </view>

    <!-- 地址 -->
    <view class="form-item">
      <view class="form-label required">地址</view>
      <input class="form-input" placeholder="请输入地址" value="{{formData.location}}" bindinput="onInputChange" data-field="location" />
    </view>

    <!-- 照片上传 -->
    <view class="form-item">
      <view class="form-label required">宠物照片</view>
      <view class="upload-section">
        <view class="image-list">
          <view class="image-item" wx:for="{{imageList}}" wx:key="index">
            <image class="uploaded-image" src="{{item}}" mode="aspectFill"></image>
            <view class="image-delete" bindtap="deleteImage" data-index="{{index}}">×</view>
          </view>
          <view class="upload-btn" wx:if="{{imageList.length < 6}}" bindtap="chooseImage">
            <text class="upload-icon">+</text>
            <text class="upload-text">上传照片</text>
          </view>
        </view>
        <view class="upload-tip">最多上传6张照片</view>
      </view>
    </view>
  </view>

  <!-- 提交按钮 -->
  <view class="submit-section">
    <button class="submit-btn" catchtap="handleSubmit">发布寄养信息</button>
  </view>
</view>

