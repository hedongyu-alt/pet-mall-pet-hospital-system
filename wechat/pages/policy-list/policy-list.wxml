<!--pages/policy-list/policy-list.wxml-->
<view class="page-container">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-header">
    <view class="header-title">æˆ‘çš„ä¿å•</view>
    <view class="header-subtitle">æŸ¥çœ‹æ‚¨è´­ä¹°çš„æ‰€æœ‰ä¿é™©äº§å“</view>
  </view>

  <!-- ä¿å•åˆ—è¡¨ -->
  <view class="policy-grid">
    <view class="policy-card" wx:for="{{policyList}}" wx:key="id">
      <!-- ä¿å•å¤´éƒ¨ -->
      <view class="policy-header">
        <view class="insurance-icon">ğŸ </view>
        <view class="status-tag {{item.status === 'ç”Ÿæ•ˆä¸­' ? 'active' : 'inactive'}}">{{item.status}}</view>
      </view>

      <!-- ä¿å•ä¸»ä½“ -->
      <view class="policy-body">
        <view class="insurance-name">{{item.insuranceName}}</view>
        <view class="policy-info-row">
          <text class="label">è®¢å•ç¼–å·ï¼š</text>
          <text class="value">{{item.orderNo}}</text>
        </view>
        <view class="policy-info-row">
          <text class="label">å® ç‰©ä¿¡æ¯ï¼š</text>
          <text class="value">{{item.petName}} / {{item.petType}} / {{item.petAge}}å²</text>
        </view>
        <view class="policy-info-row">
          <text class="label">ä¿é™©æœŸé™ï¼š</text>
          <text class="value">{{item.startDate}} è‡³ {{item.endDate}}</text>
        </view>
        <view class="policy-price">
          <text class="price-symbol">Â¥</text>
          <text class="price-value">{{item.price}}</text>
          <text class="price-unit">/å¹´</text>
        </view>
      </view>

      <!-- ä¿å•åº•éƒ¨ -->
      <view class="policy-footer">
        <button 
          class="claim-btn {{item.status !== 'ç”Ÿæ•ˆä¸­' ? 'disabled' : ''}}" 
          bindtap="makeClaim" 
          data-id="{{item.id}}"
          disabled="{{item.status !== 'ç”Ÿæ•ˆä¸­'}}">
          ç”³è¯·ç†èµ”
        </button>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{policyList.length === 0}}">
    <view class="empty-icon">ğŸ“‹</view>
    <view class="empty-text">æš‚æ— ä¿å•</view>
  </view>
</view>


