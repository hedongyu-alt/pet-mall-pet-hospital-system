<!--pages/order-confirm/order-confirm.wxml-->
<view class="page-container">
  <!-- 收货信息 -->
  <view class="address-section card">
    <view class="section-title">收货信息</view>
    <view class="form-item">
      <view class="form-label required">收货人</view>
      <input 
        class="form-input" 
        placeholder="请输入收货人姓名"
        data-field="receiverName"
        value="{{formData.receiverName}}"
        bindinput="onInputChange" />
    </view>
    <view class="form-item">
      <view class="form-label required">联系电话</view>
      <input 
        class="form-input" 
        placeholder="请输入联系电话"
        type="number"
        maxlength="11"
        data-field="receiverPhone"
        value="{{formData.receiverPhone}}"
        bindinput="onInputChange" />
    </view>
    <view class="form-item">
      <view class="form-label required">收货地址</view>
      <textarea 
        class="form-textarea" 
        placeholder="请输入详细收货地址"
        data-field="receiverAddress"
        value="{{formData.receiverAddress}}"
        bindinput="onInputChange"
        maxlength="200"
        show-confirm-bar="{{false}}" />
    </view>
  </view>

  <!-- 商品清单 -->
  <view class="goods-section card">
    <view class="section-title">商品清单</view>
    <view class="goods-list">
      <view class="goods-item" wx:for="{{orderItems}}" wx:key="id">
        <image class="goods-image" src="{{item.displayImage}}" mode="aspectFill"></image>
        <view class="goods-info">
          <view class="goods-name">{{item.productName}}</view>
          <view class="goods-spec">{{item.categoryName}}</view>
          <view class="goods-bottom">
            <view class="goods-price">¥{{item.productPrice}}</view>
            <view class="goods-quantity">×{{item.quantity}}</view>
          </view>
        </view>
        <view class="goods-total">¥{{item.itemTotal}}</view>
      </view>
    </view>
  </view>

  <!-- 订单金额 -->
  <view class="summary-section card">
    <view class="summary-row">
      <text class="summary-label">商品金额</text>
      <text class="summary-value">¥{{totalAmount}}</text>
    </view>
    <view class="summary-row">
      <text class="summary-label">运费</text>
      <text class="summary-value">¥0.00</text>
    </view>
    <view class="summary-row total-row">
      <text class="summary-label">订单总额</text>
      <text class="summary-total">¥{{totalAmount}}</text>
    </view>
  </view>

  <!-- 提交按钮 -->
  <view class="submit-section">
    <view class="submit-info">
      <text class="submit-label">合计：</text>
      <text class="submit-price">¥{{totalAmount}}</text>
    </view>
    <button class="submit-btn" catchtap="handleSubmit">提交订单</button>
  </view>
</view>

